{"ast":null,"code":"var _jsxFileName = \"D:\\\\finalyear-2\\\\Ger-s-Garage\\\\client\\\\src\\\\Components\\\\Admin\\\\AdminInvoiceUpdate.jsx\",\n  _s = $RefreshSig$();\nimport { FormControl, FormHelperText, InputLabel, MenuItem, Select } from \"@mui/material\";\nimport Add from \"@mui/icons-material/Add\";\nimport styled from \"styled-components\";\nimport { useState } from \"react\";\nimport Loading from \"../Loading\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { publicRequest, userRequest } from \"../../Utils/requestMethods\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminInvoiceUpdate = props => {\n  _s();\n  // console.log(props);\n  const info = props.info;\n  const [item, setItem] = useState(\"\");\n  const [value, setValue] = useState(\"\");\n  const [disabled, setDisabled] = useState(true);\n  const total = parseFloat(props.updatedTotalPrice);\n  const totalProduct = parseFloat(props.updatedProductPrice);\n  const {\n    data: products,\n    isFetching\n  } = useQuery({\n    queryKey: [\"productsData\"],\n    queryFn: async () => {\n      const res = await publicRequest.get(\"/products/\");\n      //   console.log(res.data);\n      return res.data;\n    }\n  });\n  const handleClick = async e => {\n    // console.log(\"pressed\");\n    toast.success(\"You successfully added an item to the Cliient's Service Invoice\");\n    await userRequest.put(`/appointments/update/${info.serviceId}`, {\n      products: item,\n      totalAmountProducts: item.price + totalProduct,\n      totalAppointmentAmount: item.price + total\n    });\n    setItem(\"\");\n    setValue(\"\");\n    setDisabled(true);\n    props.updateProduct({\n      _id: item._id,\n      name: item.name,\n      price: item.price,\n      amount: 1\n    });\n  };\n  const handleProductUpdate = event => {\n    const product = event.target.value;\n    setDisabled(false);\n    setItem({\n      ...product,\n      amount: 1\n    });\n    setValue(product);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [isFetching ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(AdminProductsUpdate, {\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        sx: {\n          m: 1,\n          minWidth: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"demo-simple-select-required-label\",\n          children: \"Add the Products Here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"demo-simple-select-required-label\",\n          id: \"demo-simple-select-required\",\n          value: value,\n          label: \"Products *\",\n          onChange: handleProductUpdate,\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"\",\n            children: /*#__PURE__*/_jsxDEV(\"em\", {\n              children: \"None\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), products.map(product => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: product,\n            children: product.name\n          }, product._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n          children: \"OBS: If the item added does not show up in the list anymore, pelase go back to the previous page and check if it is there.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: disabled,\n        onClick: handleClick,\n        children: [\"Add \", /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminInvoiceUpdate, \"pzxhd0chHEa5ASoxFdT4BZC14Ls=\", false, function () {\n  return [useQuery];\n});\n_c = AdminInvoiceUpdate;\nexport default AdminInvoiceUpdate;\nconst AdminProductsUpdate = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 1.5rem;\n`;\n_c2 = AdminProductsUpdate;\nconst Button = styled.button`\n  display: flex;\n  align-items: center;\n  width: max-content;\n  padding: 8px 12px;\n  background-color: black;\n  box-shadow: 0 3px 24px rgb(0 0 0 / 30%);\n  border-radius: 1rem;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.5s ease;\n  &:hover {\n    transform: scale(1.1);\n  }\n`;\n_c3 = Button;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AdminInvoiceUpdate\");\n$RefreshReg$(_c2, \"AdminProductsUpdate\");\n$RefreshReg$(_c3, \"Button\");","map":{"version":3,"names":["FormControl","FormHelperText","InputLabel","MenuItem","Select","Add","styled","useState","Loading","useQuery","publicRequest","userRequest","toast","ToastContainer","AdminInvoiceUpdate","props","info","item","setItem","value","setValue","disabled","setDisabled","total","parseFloat","updatedTotalPrice","totalProduct","updatedProductPrice","data","products","isFetching","queryKey","queryFn","res","get","handleClick","e","success","put","serviceId","totalAmountProducts","price","totalAppointmentAmount","updateProduct","_id","name","amount","handleProductUpdate","event","product","target","m","minWidth","map","AdminProductsUpdate","div","Button","button"],"sources":["D:/finalyear-2/Ger-s-Garage/client/src/Components/Admin/AdminInvoiceUpdate.jsx"],"sourcesContent":["import {\r\n  FormControl,\r\n  FormHelperText,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from \"@mui/material\";\r\nimport Add from \"@mui/icons-material/Add\";\r\nimport styled from \"styled-components\";\r\nimport { useState } from \"react\";\r\nimport Loading from \"../Loading\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { publicRequest, userRequest } from \"../../Utils/requestMethods\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\n\r\nconst AdminInvoiceUpdate = (props) => {\r\n  // console.log(props);\r\n  const info = props.info;\r\n  const [item, setItem] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [disabled, setDisabled] = useState(true);\r\n  const total = parseFloat(props.updatedTotalPrice);\r\n  const totalProduct = parseFloat(props.updatedProductPrice);\r\n\r\n  const { data: products, isFetching } = useQuery({\r\n    queryKey: [\"productsData\"],\r\n    queryFn: async () => {\r\n      const res = await publicRequest.get(\"/products/\");\r\n      //   console.log(res.data);\r\n      return res.data;\r\n    },\r\n  });\r\n\r\n  const handleClick = async (e) => {\r\n    // console.log(\"pressed\");\r\n    toast.success(\r\n      \"You successfully added an item to the Cliient's Service Invoice\"\r\n    );\r\n    await userRequest.put(`/appointments/update/${info.serviceId}`, {\r\n      products: item,\r\n      totalAmountProducts: item.price + totalProduct,\r\n      totalAppointmentAmount: item.price + total,\r\n    });\r\n    setItem(\"\");\r\n    setValue(\"\");\r\n    setDisabled(true);\r\n    props.updateProduct({\r\n      _id: item._id,\r\n      name: item.name,\r\n      price: item.price,\r\n      amount: 1,\r\n    });\r\n  };\r\n\r\n  const handleProductUpdate = (event) => {\r\n    const product = event.target.value;\r\n    setDisabled(false);\r\n    setItem({ ...product, amount: 1 });\r\n    setValue(product);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {isFetching ? (\r\n        <Loading />\r\n      ) : (\r\n        <AdminProductsUpdate>\r\n          <FormControl sx={{ m: 1, minWidth: \"100%\" }}>\r\n            <InputLabel id=\"demo-simple-select-required-label\">\r\n              Add the Products Here\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"demo-simple-select-required-label\"\r\n              id=\"demo-simple-select-required\"\r\n              value={value}\r\n              label=\"Products *\"\r\n              onChange={handleProductUpdate}\r\n            >\r\n              <MenuItem value={\"\"}>\r\n                <em>None</em>\r\n              </MenuItem>\r\n              {products.map((product) => (\r\n                <MenuItem key={product._id} value={product}>\r\n                  {product.name}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n            <FormHelperText>\r\n              OBS: If the item added does not show up in the list anymore,\r\n              pelase go back to the previous page and check if it is there.\r\n            </FormHelperText>\r\n          </FormControl>\r\n          <Button disabled={disabled} onClick={handleClick}>\r\n            Add <Add />\r\n          </Button>\r\n        </AdminProductsUpdate>\r\n      )}\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminInvoiceUpdate;\r\n\r\nconst AdminProductsUpdate = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 1.5rem;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  width: max-content;\r\n  padding: 8px 12px;\r\n  background-color: black;\r\n  box-shadow: 0 3px 24px rgb(0 0 0 / 30%);\r\n  border-radius: 1rem;\r\n  color: white;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}