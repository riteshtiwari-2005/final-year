{"ast":null,"code":"var _jsxFileName = \"D:\\\\finalyear-2\\\\Ger-s-Garage\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { Suspense, useEffect } from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loading from \"./Components/Loading\";\nimport { authActions } from \"./Redux/authRedux\";\nimport { userRequest } from \"./Utils/requestMethods\";\nimport { cartActions } from \"./Redux/cartRedux\";\nimport Appointment from \"./Components/Appointment/Appointment\";\nimport InvoiceAdmin from \"./Pages/InvoiceAdmin\";\nimport AES from \"crypto-js/aes\";\nimport encUtf8 from \"crypto-js/enc-utf8\";\nimport Cookies from \"js-cookie\";\nimport Footer from \"./Components/Footer\";\nimport NavBar from \"./Components/NavBar\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Invoice = /*#__PURE__*/React.lazy(_c = () => import(\"./Pages/Invoice\"));\n_c2 = Invoice;\nconst Admin = /*#__PURE__*/React.lazy(_c3 = () => import(\"./Pages/Admin\"));\n_c4 = Admin;\nconst Auth = /*#__PURE__*/React.lazy(_c5 = () => import(\"./Pages/Auth\"));\n_c6 = Auth;\nconst User = /*#__PURE__*/React.lazy(_c7 = () => import(\"./Pages/User\"));\n_c8 = User;\nconst Home = /*#__PURE__*/React.lazy(_c9 = () => import(\"./Pages/Home\"));\n_c10 = Home;\nconst ProductsPage = /*#__PURE__*/React.lazy(_c11 = () => import(\"./Pages/ProductsPage\"));\n_c12 = ProductsPage;\nconst SingleProduct = /*#__PURE__*/React.lazy(_c13 = () => import(\"./Pages/SingleProduct\"));\n_c14 = SingleProduct;\nconst Cart = /*#__PURE__*/React.lazy(_c15 = () => import(\"./Pages/Cart\"));\n_c16 = Cart;\nconst Checkout = /*#__PURE__*/React.lazy(_c17 = () => import(\"./Pages/Checkout\"));\n_c18 = Checkout;\nconst Services = /*#__PURE__*/React.lazy(_c19 = () => import(\"./Pages/Services\"));\n_c20 = Services;\nconst SingleServices = /*#__PURE__*/React.lazy(_c21 = () => import(\"./Pages/SingleServices\"));\n_c22 = SingleServices;\nconst AddServicePage = /*#__PURE__*/React.lazy(_c23 = () => import(\"./Pages/AddServicePage\"));\n_c24 = AddServicePage;\nconst AddProductPage = /*#__PURE__*/React.lazy(_c25 = () => import(\"./Pages/AddProductPage\"));\n_c26 = AddProductPage;\nconst AddWorkerPage = /*#__PURE__*/React.lazy(_c27 = () => import(\"./Pages/AddWorkerPage\"));\n_c28 = AddWorkerPage;\nconst Error404 = /*#__PURE__*/React.lazy(_c29 = () => import(\"./Pages/Error404\"));\n_c30 = Error404;\nconst secretCart = process.env.REACT_APP_CART_SECRET;\nfunction App() {\n  _s();\n  const dispatch = useDispatch();\n  const authToken = localStorage.getItem(\"token\");\n  const authUserId = localStorage.getItem(\"userId\");\n  const isLogged = useSelector(state => state.auth.isLoggedIn);\n  const isAdmin = useSelector(state => state.auth.isAdmin);\n  const [cart, setCart] = React.useState(false);\n  const [checkOutModal, setCheckOutModal] = React.useState(false);\n  const onCloseCart = value => {\n    setCart(false);\n    if (value === \"checkout\") {\n      toast.warn(\"Sorry, we can not go to checkout if you are not logged in!\");\n    }\n  };\n  const onOpenCart = () => {\n    setCart(true);\n  };\n  const onOpenCheckout = () => {\n    setCheckOutModal(true);\n  };\n  const onCloseCheckout = value => {\n    if (value === \"order\") {\n      toast.success(\"Your order has been placed successfully!\");\n    }\n    setCheckOutModal(false);\n  };\n  const persistCartHandler = () => {\n    try {\n      const encryptedData = Cookies.get(\"encryptedData\");\n      const {\n        cart,\n        cartTotalAmount\n      } = JSON.parse(AES.decrypt(encryptedData, secretCart).toString(encUtf8));\n      // console.log(cart);\n      // console.log(cartTotalAmount);\n      if (cart) {\n        dispatch(cartActions.updateCartHandler({\n          items: cart,\n          totalAmount: cartTotalAmount,\n          userId: authUserId\n        }));\n      }\n    } catch (error) {\n      console.log(\"Empty cart.\");\n    }\n  };\n  useEffect(() => {\n    const getUser = async () => {\n      if (authToken) {\n        const res = await userRequest.get(`users/find/${authUserId}`);\n        // console.log(res.data.cart);\n        if (res.data) {\n          dispatch(authActions.login({\n            token: authToken,\n            userId: authUserId,\n            isAdmin: res.data.isAdmin,\n            name: `${res.data.firstname} ${res.data.surname}`,\n            phone: res.data.phone,\n            email: res.data.email,\n            maker: res.data.maker,\n            type: res.data.type,\n            license: res.data.license\n          }));\n          // console.log(res.data.cart);\n          // console.log(res.data.cartTotalAmount);\n          dispatch(cartActions.updateCartHandler({\n            items: res.data.cart,\n            totalAmount: res.data.cartTotalAmount,\n            userId: authUserId\n          }));\n        }\n      } else {\n        dispatch(authActions.logout());\n      }\n    };\n    persistCartHandler();\n    getUser();\n    // eslint-disable-next-line\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }, this),\n    children: [cart && /*#__PURE__*/_jsxDEV(Cart, {\n      onCloseCart: onCloseCart,\n      onOpenCheckout: onOpenCheckout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 16\n    }, this), isLogged != null && checkOutModal && /*#__PURE__*/_jsxDEV(Checkout, {\n      onClose: onCloseCheckout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 45\n    }, this), /*#__PURE__*/_jsxDEV(NavBar, {\n      onOpenCart: onOpenCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin\",\n        element: isAdmin ? /*#__PURE__*/_jsxDEV(Admin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 49\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          replace: true,\n          to: \"/user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/user\",\n        element: isLogged ? /*#__PURE__*/_jsxDEV(User, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 49\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          replace: true,\n          to: \"/auth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 60\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/services\",\n        element: /*#__PURE__*/_jsxDEV(Services, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/service/:_id\",\n        element: /*#__PURE__*/_jsxDEV(SingleServices, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/service/add\",\n        element: isAdmin ? /*#__PURE__*/_jsxDEV(AddServicePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 55\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          replace: true,\n          to: \"/user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 76\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/auth\",\n        element: !isLogged ? /*#__PURE__*/_jsxDEV(Auth, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 50\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          replace: true,\n          to: \"/admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/products\",\n        element: /*#__PURE__*/_jsxDEV(ProductsPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/product/:_id\",\n        element: /*#__PURE__*/_jsxDEV(SingleProduct, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/product/add\",\n        element: isAdmin ? /*#__PURE__*/_jsxDEV(AddProductPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 55\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          replace: true,\n          to: \"/user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 76\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/worker/add\",\n        element: isAdmin ? /*#__PURE__*/_jsxDEV(AddWorkerPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 56\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          replace: true,\n          to: \"/user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 76\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/invoice/:_id\",\n        element: isLogged ? /*#__PURE__*/_jsxDEV(Invoice, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 31\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          replace: true,\n          to: \"/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/invoiceAdmin/:_id\",\n        element: isAdmin ? /*#__PURE__*/_jsxDEV(InvoiceAdmin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 30\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          replace: true,\n          to: \"/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/checkout\"\n        // element={isLogged ? <Checkout /> : <Navigate replace to=\"/auth\" />}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/*\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          replace: true,\n          to: \"/404\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 35\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/404\",\n        element: /*#__PURE__*/_jsxDEV(Error404, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/appointment\",\n        element: /*#__PURE__*/_jsxDEV(Appointment, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      newestOnTop: true,\n      autoClose: 2000,\n      pauseOnHover: true,\n      theme: \"dark\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"UBc8cZwmFn4obAMabIMwcjZ8QWQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c31 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31;\n$RefreshReg$(_c, \"Invoice$React.lazy\");\n$RefreshReg$(_c2, \"Invoice\");\n$RefreshReg$(_c3, \"Admin$React.lazy\");\n$RefreshReg$(_c4, \"Admin\");\n$RefreshReg$(_c5, \"Auth$React.lazy\");\n$RefreshReg$(_c6, \"Auth\");\n$RefreshReg$(_c7, \"User$React.lazy\");\n$RefreshReg$(_c8, \"User\");\n$RefreshReg$(_c9, \"Home$React.lazy\");\n$RefreshReg$(_c10, \"Home\");\n$RefreshReg$(_c11, \"ProductsPage$React.lazy\");\n$RefreshReg$(_c12, \"ProductsPage\");\n$RefreshReg$(_c13, \"SingleProduct$React.lazy\");\n$RefreshReg$(_c14, \"SingleProduct\");\n$RefreshReg$(_c15, \"Cart$React.lazy\");\n$RefreshReg$(_c16, \"Cart\");\n$RefreshReg$(_c17, \"Checkout$React.lazy\");\n$RefreshReg$(_c18, \"Checkout\");\n$RefreshReg$(_c19, \"Services$React.lazy\");\n$RefreshReg$(_c20, \"Services\");\n$RefreshReg$(_c21, \"SingleServices$React.lazy\");\n$RefreshReg$(_c22, \"SingleServices\");\n$RefreshReg$(_c23, \"AddServicePage$React.lazy\");\n$RefreshReg$(_c24, \"AddServicePage\");\n$RefreshReg$(_c25, \"AddProductPage$React.lazy\");\n$RefreshReg$(_c26, \"AddProductPage\");\n$RefreshReg$(_c27, \"AddWorkerPage$React.lazy\");\n$RefreshReg$(_c28, \"AddWorkerPage\");\n$RefreshReg$(_c29, \"Error404$React.lazy\");\n$RefreshReg$(_c30, \"Error404\");\n$RefreshReg$(_c31, \"App\");","map":{"version":3,"names":["React","Suspense","useEffect","Routes","Route","Navigate","useDispatch","useSelector","Loading","authActions","userRequest","cartActions","Appointment","InvoiceAdmin","AES","encUtf8","Cookies","Footer","NavBar","toast","ToastContainer","Invoice","lazy","Admin","Auth","User","Home","ProductsPage","SingleProduct","Cart","Checkout","Services","SingleServices","AddServicePage","AddProductPage","AddWorkerPage","Error404","secretCart","process","env","REACT_APP_CART_SECRET","App","dispatch","authToken","localStorage","getItem","authUserId","isLogged","state","auth","isLoggedIn","isAdmin","cart","setCart","useState","checkOutModal","setCheckOutModal","onCloseCart","value","warn","onOpenCart","onOpenCheckout","onCloseCheckout","success","persistCartHandler","encryptedData","get","cartTotalAmount","JSON","parse","decrypt","toString","updateCartHandler","items","totalAmount","userId","error","console","log","getUser","res","data","login","token","name","firstname","surname","phone","email","maker","type","license","logout"],"sources":["D:/finalyear-2/Ger-s-Garage/client/src/App.js"],"sourcesContent":["import React, { Suspense, useEffect } from \"react\";\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loading from \"./Components/Loading\";\r\nimport { authActions } from \"./Redux/authRedux\";\r\nimport { userRequest } from \"./Utils/requestMethods\";\r\nimport { cartActions } from \"./Redux/cartRedux\";\r\nimport Appointment from \"./Components/Appointment/Appointment\";\r\nimport InvoiceAdmin from \"./Pages/InvoiceAdmin\";\r\nimport AES from \"crypto-js/aes\";\r\nimport encUtf8 from \"crypto-js/enc-utf8\";\r\nimport Cookies from \"js-cookie\";\r\nimport Footer from \"./Components/Footer\";\r\nimport NavBar from \"./Components/NavBar\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\n\r\nconst Invoice = React.lazy(() => import(\"./Pages/Invoice\"));\r\nconst Admin = React.lazy(() => import(\"./Pages/Admin\"));\r\nconst Auth = React.lazy(() => import(\"./Pages/Auth\"));\r\nconst User = React.lazy(() => import(\"./Pages/User\"));\r\nconst Home = React.lazy(() => import(\"./Pages/Home\"));\r\nconst ProductsPage = React.lazy(() => import(\"./Pages/ProductsPage\"));\r\nconst SingleProduct = React.lazy(() => import(\"./Pages/SingleProduct\"));\r\nconst Cart = React.lazy(() => import(\"./Pages/Cart\"));\r\nconst Checkout = React.lazy(() => import(\"./Pages/Checkout\"));\r\nconst Services = React.lazy(() => import(\"./Pages/Services\"));\r\nconst SingleServices = React.lazy(() => import(\"./Pages/SingleServices\"));\r\nconst AddServicePage = React.lazy(() => import(\"./Pages/AddServicePage\"));\r\nconst AddProductPage = React.lazy(() => import(\"./Pages/AddProductPage\"));\r\nconst AddWorkerPage = React.lazy(() => import(\"./Pages/AddWorkerPage\"));\r\nconst Error404 = React.lazy(() => import(\"./Pages/Error404\"));\r\nconst secretCart = process.env.REACT_APP_CART_SECRET;\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const authToken = localStorage.getItem(\"token\");\r\n  const authUserId = localStorage.getItem(\"userId\");\r\n  const isLogged = useSelector((state) => state.auth.isLoggedIn);\r\n  const isAdmin = useSelector((state) => state.auth.isAdmin);\r\n  const [cart, setCart] = React.useState(false);\r\n  const [checkOutModal, setCheckOutModal] = React.useState(false);\r\n\r\n  const onCloseCart = (value) => {\r\n    setCart(false);\r\n    if (value === \"checkout\") {\r\n      toast.warn(\"Sorry, we can not go to checkout if you are not logged in!\");\r\n    }\r\n  };\r\n\r\n  const onOpenCart = () => {\r\n    setCart(true);\r\n  };\r\n  const onOpenCheckout = () => {\r\n    setCheckOutModal(true);\r\n  };\r\n\r\n  const onCloseCheckout = (value) => {\r\n    if (value === \"order\") {\r\n      toast.success(\"Your order has been placed successfully!\");\r\n    }\r\n    setCheckOutModal(false);\r\n  };\r\n\r\n  const persistCartHandler = () => {\r\n    try {\r\n      const encryptedData = Cookies.get(\"encryptedData\");\r\n      const { cart, cartTotalAmount } = JSON.parse(\r\n        AES.decrypt(encryptedData, secretCart).toString(encUtf8)\r\n      );\r\n      // console.log(cart);\r\n      // console.log(cartTotalAmount);\r\n      if (cart) {\r\n        dispatch(\r\n          cartActions.updateCartHandler({\r\n            items: cart,\r\n            totalAmount: cartTotalAmount,\r\n            userId: authUserId,\r\n          })\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.log(\"Empty cart.\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      if (authToken) {\r\n        const res = await userRequest.get(`users/find/${authUserId}`);\r\n        // console.log(res.data.cart);\r\n        if (res.data) {\r\n          dispatch(\r\n            authActions.login({\r\n              token: authToken,\r\n              userId: authUserId,\r\n              isAdmin: res.data.isAdmin,\r\n              name: `${res.data.firstname} ${res.data.surname}`,\r\n              phone: res.data.phone,\r\n              email: res.data.email,\r\n              maker: res.data.maker,\r\n              type: res.data.type,\r\n              license: res.data.license,\r\n            })\r\n          );\r\n          // console.log(res.data.cart);\r\n          // console.log(res.data.cartTotalAmount);\r\n          dispatch(\r\n            cartActions.updateCartHandler({\r\n              items: res.data.cart,\r\n              totalAmount: res.data.cartTotalAmount,\r\n              userId: authUserId,\r\n            })\r\n          );\r\n        }\r\n      } else {\r\n        dispatch(authActions.logout());\r\n      }\r\n    };\r\n    persistCartHandler();\r\n    getUser();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <Suspense fallback={<Loading />}>\r\n      {cart && <Cart onCloseCart={onCloseCart} onOpenCheckout={onOpenCheckout} />}\r\n      {isLogged != null && checkOutModal && <Checkout onClose={onCloseCheckout} />}\r\n      <NavBar onOpenCart={onOpenCart} />\r\n      <Routes>\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"/admin\" element={isAdmin ? <Admin /> : <Navigate replace to=\"/user\" />} />\r\n        <Route path=\"/user\" element={isLogged ? <User /> : <Navigate replace to=\"/auth\" />} />\r\n        <Route path=\"/services\" element={<Services />} />\r\n        <Route path=\"/service/:_id\" element={<SingleServices />} />\r\n        <Route path=\"/service/add\" element={isAdmin ? <AddServicePage /> : <Navigate replace to=\"/user\" />} />\r\n        <Route path=\"/auth\" element={!isLogged ? <Auth /> : <Navigate replace to=\"/admin\" />} />\r\n        <Route path=\"/products\" element={<ProductsPage />} />\r\n        <Route path=\"/product/:_id\" element={<SingleProduct />} />\r\n        <Route path=\"/product/add\" element={isAdmin ? <AddProductPage /> : <Navigate replace to=\"/user\" />} />\r\n          <Route path=\"/worker/add\" element={isAdmin ? <AddWorkerPage /> : <Navigate replace to=\"/user\" />} />\r\n        {/* <Route path=\"/product/:category\" element={<ProductList />} /> */}\r\n        <Route\r\n          path=\"/invoice/:_id\"\r\n          element={isLogged ? <Invoice /> : <Navigate replace to=\"/*\" />}\r\n        />\r\n        <Route\r\n          path=\"/invoiceAdmin/:_id\"\r\n          element={isAdmin ? <InvoiceAdmin /> : <Navigate replace to=\"/*\" />}\r\n        />\r\n        <Route\r\n          path=\"/checkout\"\r\n          // element={isLogged ? <Checkout /> : <Navigate replace to=\"/auth\" />}\r\n        />\r\n        <Route path=\"/*\" element={<Navigate replace to=\"/404\" />} />\r\n        <Route path=\"/404\" element={<Error404 />} />\r\n        <Route path=\"/appointment\" element={<Appointment />} />\r\n      </Routes>\r\n      <Footer />\r\n      <ToastContainer newestOnTop={true} autoClose={2000} pauseOnHover theme=\"dark\" />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}