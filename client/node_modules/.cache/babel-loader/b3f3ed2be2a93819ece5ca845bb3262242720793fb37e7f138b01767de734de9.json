{"ast":null,"code":"var _jsxFileName = \"D:\\\\finalyear-2\\\\Ger-s-Garage\\\\client\\\\src\\\\Components\\\\User\\\\UserInfo.jsx\",\n  _s = $RefreshSig$();\nimport Loading from \"../Loading\";\nimport ServiceDetails from \"./ServiceDetails\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { userRequest } from \"../../Utils/requestMethods\";\nimport styled, { keyframes } from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport { mobile } from \"../../Utils/responsive\";\nimport OrderDetails from \"./OrderDetails\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserInfo = () => {\n  _s();\n  const userId = localStorage.getItem(\"userId\");\n  const name = useSelector(state => state.auth.name);\n  const phone = useSelector(state => state.auth.phone);\n  const email = useSelector(state => state.auth.email);\n  let contentOrder;\n  let contentService;\n  const {\n    data: orderInfo,\n    isFetching: orderIsFetching\n  } = useQuery({\n    queryKey: [\"orderInfo\"],\n    queryFn: async () => {\n      const res = await userRequest.get(`orders/find/${userId}`);\n      // console.log(res.data);\n      return res.data;\n    }\n  });\n  const {\n    data: serviceInfo,\n    isFetching: serviceIsFetching\n  } = useQuery({\n    queryKey: [\"serviceInfo\"],\n    queryFn: async () => {\n      const res = await userRequest.get(`appointments/all/${userId}`);\n      // console.log(res.data);\n      return res.data;\n    }\n  });\n\n  // console.log(loadedData);\n\n  if (orderIsFetching || serviceIsFetching) {\n    contentOrder = /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 20\n    }, this);\n  } else {\n    contentOrder = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: orderInfo && orderInfo.length > 0 ? orderInfo.map(item => {\n        var _item$address, _item$address2, _item$address3, _item$address4;\n        return /*#__PURE__*/_jsxDEV(OrderDetails, {\n          orderId: item._id,\n          name: name,\n          email: email,\n          phone: phone,\n          city: (_item$address = item.address) === null || _item$address === void 0 ? void 0 : _item$address.city,\n          country: (_item$address2 = item.address) === null || _item$address2 === void 0 ? void 0 : _item$address2.country,\n          street: (_item$address3 = item.address) === null || _item$address3 === void 0 ? void 0 : _item$address3.street,\n          postalCode: (_item$address4 = item.address) === null || _item$address4 === void 0 ? void 0 : _item$address4.postalCode,\n          products: item.products,\n          subtotal: item.subtotal,\n          total: item.total,\n          date: item.createdAt,\n          status: item.status\n        }, item._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(EmptyMessage, {\n        children: \"No orders placed yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);\n    contentService = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: serviceInfo && serviceInfo.length > 0 ? serviceInfo.map(item => /*#__PURE__*/_jsxDEV(ServiceDetails, {\n        serviceId: item._id,\n        status: item.service.status,\n        name: item.name,\n        email: item.email,\n        phone: item.phone,\n        type: item.type,\n        maker: item.maker,\n        license: item.license,\n        mechanic: item.mechanic,\n        comments: item.comments,\n        totalProduct: item.totalAmountProducts,\n        total: item.totalAppointmentAmount,\n        orderId: item._id,\n        service: item.service,\n        products: item.products,\n        date: item.createdAt,\n        slot: item.slots\n      }, item._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(EmptyMessage, {\n        children: \"No bookings made yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);\n  }\n  return /*#__PURE__*/_jsxDEV(UserInfoContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: \"Services / Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InnerContaienr, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: contentService\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: contentOrder\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n_s(UserInfo, \"D2yIN2SvDuow5nj0cXR3nrjsDio=\", false, function () {\n  return [useSelector, useSelector, useSelector, useQuery, useQuery];\n});\n_c = UserInfo;\nexport default UserInfo;\nconst usersApear = keyframes`\n  from {\n    opacity: 0;\n    transform: translateY(3rem);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n`;\nconst Card = styled.div`\n  flex: 1;\n  padding: 1rem;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);\n  border-radius: 14px;\n  background-color: white;\n`;\n_c2 = Card;\nconst InnerContaienr = styled.div`\n  display: flex;\n  gap: 1rem;\n  ${mobile({\n  flexDirection: \"column\"\n})}\n`;\n_c3 = InnerContaienr;\nconst UserInfoContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  max-width: 60rem;\n  width: 90%;\n  margin: 2rem auto;\n  & ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  animation: ${usersApear} 1s ease-out forwards;\n`;\n_c4 = UserInfoContainer;\nconst Title = styled.h3`\n  padding-bottom: 1rem;\n  font-size: 38px;\n  line-height: 1.4;\n  font-weight: 800;\n`;\n_c5 = Title;\nconst EmptyMessage = styled.div`\n  padding: 1.4rem 0;\n  text-align: center;\n  color: #666;\n  font-weight: 600;\n`;\n_c6 = EmptyMessage;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"UserInfo\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"InnerContaienr\");\n$RefreshReg$(_c4, \"UserInfoContainer\");\n$RefreshReg$(_c5, \"Title\");\n$RefreshReg$(_c6, \"EmptyMessage\");","map":{"version":3,"names":["Loading","ServiceDetails","useQuery","userRequest","styled","keyframes","useSelector","mobile","OrderDetails","UserInfo","userId","localStorage","getItem","name","state","auth","phone","email","contentOrder","contentService","data","orderInfo","isFetching","orderIsFetching","queryKey","queryFn","res","get","serviceInfo","serviceIsFetching","length","map","item","_id","address","city","country","street","postalCode","products","subtotal","total","createdAt","status","service","type","maker","license","mechanic","comments","totalAmountProducts","totalAppointmentAmount","slots","usersApear","Card","div","InnerContaienr","flexDirection","UserInfoContainer","Title","h3","EmptyMessage"],"sources":["D:/finalyear-2/Ger-s-Garage/client/src/Components/User/UserInfo.jsx"],"sourcesContent":["import Loading from \"../Loading\";\r\nimport ServiceDetails from \"./ServiceDetails\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { userRequest } from \"../../Utils/requestMethods\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { mobile } from \"../../Utils/responsive\";\r\nimport OrderDetails from \"./OrderDetails\";\r\n\r\nconst UserInfo = () => {\r\n  const userId = localStorage.getItem(\"userId\");\r\n  const name = useSelector((state) => state.auth.name);\r\n  const phone = useSelector((state) => state.auth.phone);\r\n  const email = useSelector((state) => state.auth.email);\r\n  let contentOrder;\r\n  let contentService;\r\n\r\n  const { data: orderInfo, isFetching: orderIsFetching } = useQuery({\r\n    queryKey: [\"orderInfo\"],\r\n    queryFn: async () => {\r\n      const res = await userRequest.get(`orders/find/${userId}`);\r\n      // console.log(res.data);\r\n      return res.data;\r\n    },\r\n  });\r\n\r\n  const { data: serviceInfo, isFetching: serviceIsFetching } = useQuery({\r\n    queryKey: [\"serviceInfo\"],\r\n    queryFn: async () => {\r\n      const res = await userRequest.get(`appointments/all/${userId}`);\r\n      // console.log(res.data);\r\n      return res.data;\r\n    },\r\n  });\r\n\r\n  // console.log(loadedData);\r\n\r\n  if (orderIsFetching || serviceIsFetching) {\r\n    contentOrder = <Loading />;\r\n  } else {\r\n    contentOrder = (\r\n      <>\r\n        {orderInfo && orderInfo.length > 0 ? (\r\n          orderInfo.map((item) => (\r\n            <OrderDetails\r\n              key={item._id}\r\n              orderId={item._id}\r\n              name={name}\r\n              email={email}\r\n              phone={phone}\r\n              city={item.address?.city}\r\n              country={item.address?.country}\r\n              street={item.address?.street}\r\n              postalCode={item.address?.postalCode}\r\n              products={item.products}\r\n              subtotal={item.subtotal}\r\n              total={item.total}\r\n              date={item.createdAt}\r\n              status={item.status}\r\n            />\r\n          ))\r\n        ) : (\r\n          <EmptyMessage>No orders placed yet</EmptyMessage>\r\n        )}\r\n      </>\r\n    );\r\n    contentService = (\r\n      <>\r\n        {/* USE THE CODE BELLOW BEFORE THE SERVICE \r\n        DETAILS TO ONLY DISPLAY THE SERBIVES FIXED, COMPLETED AND UNREPAIRABLE  */}\r\n        {/* (item.service.status !== \"Booked\") &\r\n              (item.service.status !== \"In Service\") &&  */}\r\n        {serviceInfo && serviceInfo.length > 0 ? (\r\n          serviceInfo.map((item) => (\r\n            <ServiceDetails\r\n              key={item._id}\r\n              serviceId={item._id}\r\n              status={item.service.status}\r\n              name={item.name}\r\n              email={item.email}\r\n              phone={item.phone}\r\n              type={item.type}\r\n              maker={item.maker}\r\n              license={item.license}\r\n              mechanic={item.mechanic}\r\n              comments={item.comments}\r\n              totalProduct={item.totalAmountProducts}\r\n              total={item.totalAppointmentAmount}\r\n              orderId={item._id}\r\n              service={item.service}\r\n              products={item.products}\r\n              date={item.createdAt}\r\n              slot={item.slots}\r\n            />\r\n          ))\r\n        ) : (\r\n          <EmptyMessage>No bookings made yet</EmptyMessage>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <UserInfoContainer>\r\n      <Title>Services / Orders</Title>\r\n      <InnerContaienr>\r\n        <Card>\r\n          <ul>{contentService}</ul>\r\n        </Card>\r\n        <Card>\r\n          <ul>{contentOrder}</ul>\r\n        </Card>\r\n      </InnerContaienr>\r\n    </UserInfoContainer>\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n\r\nconst usersApear = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(3rem);\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst Card = styled.div`\r\n  flex: 1;\r\n  padding: 1rem;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);\r\n  border-radius: 14px;\r\n  background-color: white;\r\n`;\r\nconst InnerContaienr = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  ${mobile({\r\n    flexDirection: \"column\",\r\n  })}\r\n`;\r\n\r\nconst UserInfoContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  max-width: 60rem;\r\n  width: 90%;\r\n  margin: 2rem auto;\r\n  & ul {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  animation: ${usersApear} 1s ease-out forwards;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  padding-bottom: 1rem;\r\n  font-size: 38px;\r\n  line-height: 1.4;\r\n  font-weight: 800;\r\n`;\r\n\r\nconst EmptyMessage = styled.div`\r\n  padding: 1.4rem 0;\r\n  text-align: center;\r\n  color: #666;\r\n  font-weight: 600;\r\n`;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}